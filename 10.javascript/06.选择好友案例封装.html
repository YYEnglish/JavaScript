<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        select {
            width: 100px;
            height: 150px;
        }
    </style>
</head>
<body>
<select name="" id="left" multiple>
    <option value="">林志玲</option>
    <option value="">范冰冰</option>
    <option value="">陈奕迅</option>
    <option value="">周杰伦</option>
    <option value="">胡歌</option>
    <option value="">爱谁谁</option>
</select>
<input type="button" value=">>" id="btn1"/>
<input type="button" value="<<" id="btn2"/>
<input type="button" value=">" id="btn3"/>
<input type="button" value="<" id="btn4"/>
<select name="" id="right" multiple>
</select>

<script src="common.js"></script>
<script>
    //1.获取元素
    var selectLeft = id("left");
    var selectRight = id("right");
    var allToRight = id("btn1"); //全部去右边的按钮
    var allToLeft = id("btn2"); //全部去左边的按钮
    var selectToRight = id("btn3"); //选中的去右边
    var selectToLeft = id("btn4"); //选中去左边

    //2.分别给按钮注册单击事件

    //2.1 全部去右边
    allToRight.onclick = function () {
        ////把左边的select里面的所有的option项追加到右边的select里面去。
        //var opts = selectLeft.children;
        ////用for循环遍历出每一个option项目
        //for(var i = 0 ; i < opts.length; i++){
        //    selectRight.appendChild(opts[i]);
        //    i--; //他的作用是始终保证i的值为0，也就是始终追加第0项。
        //}

        appendAll(selectLeft,selectRight);
    }

    //2.2 全部去左边
    allToLeft.onclick = function () {
        ////把右边的select里面的所有的option项追加到左边的select里面去。
        //var opts = selectRight.children;
        ////用for循环遍历出每一个options项
        //for(var i = 0 ; i < opts.length; i++){
        //	selectLeft.appendChild(opts[i]);
        //    i--;
        //}

        appendAll(selectRight,selectLeft);
    }



    //封装
    function appendAll(one,two){
        var opts = one.children;
        for(var i = 0 ; i < opts.length; i++){
            two.appendChild(opts[i]);
            i--;
        }
    }




    //2.3 选中项移动到右边。
    selectToRight.onclick = function () {
        ////先拿到左边select里面所有的option项
        //var opts = selectLeft.children;
        //for(var i = 0 ; i < opts.length; i++){
        //    //console.log("哈哈");
        //	//console.log(opts[i].selected);
        //    //如果opts[i]的selected值为true，就要把当前这个opts[i],移动到右边去。
        //    if(opts[i].selected){
        //        selectRight.appendChild(opts[i]);
        //        i--;
        //    }
//
        //}

        appendSelect(selectLeft,selectRight);

    }

    //2.4 选中项移动到左边。
    selectToLeft.onclick = function () {
        ////先拿到右边select里面所有的option项
        //var opts = selectRight.children;
        //for(var i = 0 ; i < opts.length; i++){
        //    //console.log("哈哈");
        //    //console.log(opts[i].selected);
        //    //如果opts[i]的selected值为true，就要把当前这个opts[i],移动到左边去。
        //    if(opts[i].selected){
        //        selectLeft.appendChild(opts[i]);
        //        i--;
        //    }
        //}

        appendSelect(selectRight,selectLeft);
    }

    //封装
    function appendSelect(one,two){
        var opts = one.children;
        for(var i = 0 ; i < opts.length; i++){
            if(opts[i].selected){
                two.appendChild(opts[i]);
                i--;
            }
        }
    }

</script>
</body>
</html>